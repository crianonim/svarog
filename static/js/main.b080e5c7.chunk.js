(window.webpackJsonpsvarog=window.webpackJsonpsvarog||[]).push([[0],[,,,,,,function(e,t,n){e.exports=n(19)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(4),o=n.n(c),l=(n(11),n(2)),i=n(1),s=n(5);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(n,!0).forEach(function(t){Object(s.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var d=[{shape:"circle",attributes:{cx:151,cy:132,r:52,fill:"red"}},{shape:"circle",attributes:{cx:101,cy:120,r:40,fill:"pink"}},{shape:"circle",attributes:{cx:601,cy:420,r:140,fill:"green"}},{shape:"rect",attributes:{x:40,y:320,width:140,height:200}}].map(function(e,t){return m({},e,{id:t})}),f={viewBox:{def:"0 0 360 360",el:["svg"]},fill:{def:"pink",type:"color"},stroke:{def:"purple",type:"color"},strokeWidth:{def:"1"},cx:{el:["circle"],def:360},cy:{el:["circle"],def:360},r:{el:["circle"],def:12},width:{el:["rect"],def:100},height:{el:["rect"],def:100},x:{el:["rect"],def:100},y:{el:["rect"],def:100},points:{el:["polygon"],def:"10 40 50 90"},d:{el:["path"],def:"M 10 10"}},p=["brown","black","red","blue","green","yellow","pink","purple","teal","orange","wheat","coral","crimson"],b={circle:{cx:50,cy:30,r:10},rect:{x:20,y:50,width:40,height:20},polygon:{points:"10 10 45 15 20 35"},path:{d:"M 10 10 C 200 200, 400 20, 50 10"}},h=function(e){return Math.random()<e},g=function(e){return Math.random()*e>>0},v=function(){var e=Object.keys(b)[g(3)],t={shape:e};if("circle"===e||"rect"===e)t.attributes=Object.fromEntries(Object.entries(b[e]).map(function(e){return e[1]=g("r"===e[0]||"width"===e[0]||"height"===e[0]?540:720),e}));else if("polygon"===e){for(var n=[],a=g(8)+4,r=0;r<a;r++)n.push(g(720)),n.push(g(720));t.attributes={points:n.join(" ")}}return h(.5)&&(t.attributes.strokeWidth=g(10)+1),h(.7)&&(t.attributes.fill=p[g(p.length)]),h(.4)&&(t.attributes.stroke=p[g(p.length)]),console.log(e,t),t},E=(n(12),n(13),function(e){return Object.entries(e).map(function(e){var t=Object(i.a)(e,2),n=t[0],a=t[1];return"".concat(n,'="').concat(a,'"')}).join(" ")}),O=function(e){var t="\n<svg ".concat(E(e.svgAttrs),"> \n").concat(e.shapes.map(function(e){var t=E(e.attributes);return" <".concat(e.shape," ").concat(t,"/>")}).join("\n"),"\n</svg>\n  ");return r.a.createElement("div",{className:"code-panel"},r.a.createElement("h3",{className:"header"},"Source code:"),r.a.createElement("pre",{className:"code-content"},t))},j=(n(14),function(e,t){return e.filter(function(e){var n=Object(i.a)(e,2),a=n[0];n[1];return a!==t})}),y=function(e){var t=Object(a.useState)(Object.entries(e.attrs)),n=Object(i.a)(t,2),c=n[0],o=n[1],s=Object.entries(f).filter(function(t){var n=Object(i.a)(t,2),a=(n[0],n[1]);return!a.el||a.el.includes(e.element)}).map(function(e){var t=Object(i.a)(e,2),n=t[0];t[1];return n}).filter(function(e){return c.every(function(t){return t[0]!==e})}),u=Object(a.useState)(s[0]),m=Object(i.a)(u,2),d=m[0],p=m[1];return r.a.createElement("div",{className:"flex-row flex-wrap attr-wrapper"},r.a.createElement("span",null,e.element),e.edited?r.a.createElement(r.a.Fragment,null,r.a.createElement("select",{value:d,onChange:function(e){console.log(e.target.value),p(e.target.value)}},s.map(function(e){return r.a.createElement("option",{key:e},e)})),r.a.createElement("button",{onClick:function(){console.log({addAttr:d});var t=[].concat(Object(l.a)(c),[[d,f[d].def]]);o(t),p(s.filter(function(e){return e!==d})[0]),e.changed(Object.fromEntries(t))}},"+")):null,c.map(function(t,n){var a=Object(i.a)(t,2),l=a[0],s=a[1];return r.a.createElement("span",{key:l,className:"attr-pair"},r.a.createElement("span",{className:"key-name"},l),r.a.createElement("input",{onChange:function(t){c[n][1]=t.target.value,o(c.slice()),e.changed(Object.fromEntries(c))},style:{width:(s+"").length/2+"rem"},value:s}),"color"===f[l].type?r.a.createElement("span",{className:"color-box",style:{color:s}},"\u2588"):null,e.edited?r.a.createElement("button",{onClick:function(){var t=j(c,l);e.changed(Object.fromEntries(t)),o(t)}},"x"):null)}))},w=(n(15),function(e){var t=e.shape,n=Object(a.useState)(!1),c=Object(i.a)(n,2),o=c[0],l=c[1];return r.a.createElement("div",{key:t.id,className:"flex-row shape-item "},r.a.createElement("div",{className:"move-up-down-buttons"},r.a.createElement("button",{onClick:function(){e.duplicate(t)},className:"dup-shape-button",title:"Duplicate Shape"},"*"),r.a.createElement("button",{title:"Move Up",className:"move-up-button",onClick:function(){e.shapeUp(t)}},"\u21e7"),r.a.createElement("button",{title:"Move Down",className:"move-down-button",onClick:function(){e.shapeDown(t)}},"\u21e9"),o?r.a.createElement("button",{title:"Disable attribute editing",className:"edit-enable-btn",onClick:function(){return l(!1)}},"--"):r.a.createElement("button",{title:"Enable attribute editing",className:"edit-enable-btn",onClick:function(){return l(!0)}},"...")),r.a.createElement(y,{element:t.shape,attrs:t.attributes,edited:o,changed:function(n){t.attributes=n,e.changed(t)}}))}),k=(n(16),function(e){return r.a.createElement("div",{className:"flex-column  margined"},r.a.createElement("textarea",{className:"parse-input-ta"}),r.a.createElement("button",{onClick:function(){var t=1,n=document.createElement("div");n.innerHTML=document.querySelector("textarea").value;var a=n.children[0],r=Array.from(a.children).map(function(e){var n=Object.fromEntries(e.getAttributeNames().map(function(t){return[t,e.getAttribute(t)]}));return{id:t++,attributes:n,shape:e.tagName}});e.change(r)}},"parse"))}),S=(n(17),function(e){var t=Object(a.useState)(400),n=Object(i.a)(t,2),c=n[0],o=n[1],l=function(e){return function(){return o(e)}};return r.a.createElement("div",{className:"svg-display margined"},r.a.createElement("div",{className:"svg-zoom-control flex-row flex-align-center"},r.a.createElement("button",{onClick:e.createRandom},"Random"),r.a.createElement("span",null,"Zoom:"),r.a.createElement("label",null,r.a.createElement("input",{type:"radio",checked:100===c,onChange:l(100),name:"zoom-radios"}),"100"),r.a.createElement("label",null,r.a.createElement("input",{type:"radio",checked:200===c,onChange:l(200),name:"zoom-radios"}),"200"),r.a.createElement("label",null,r.a.createElement("input",{type:"radio",checked:400===c,onChange:l(400),name:"zoom-radios"}),"400"),r.a.createElement("label",null,r.a.createElement("input",{type:"radio",checked:800===c,onChange:l(800),name:"zoom-radios"}),"800")),r.a.createElement("svg",Object.assign({},e.attrs,{className:"Svg-view",style:{width:c}}),e.shapes.map(function(t,n){var a=t.shape;return r.a.createElement(a,Object.assign({"data-id":t.id,onClick:function(n){e.setSelectedShape(t.id)},key:n},t.attributes))})))}),x=(n(18),function(e){var t=Object(a.useState)("circle"),n=Object(i.a)(t,2),c=n[0],o=n[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("select",{value:c,onChange:function(e){o(e.target.value)}},Object.keys(b).map(function(e){return r.a.createElement("option",{key:e},e)})),r.a.createElement("button",{onClick:function(){e.addShape(c)}},"Add Shape"))}),N=function(){Object(a.useEffect)(function(){return console.log("RENDER",{selectedShape:E}),function(){console.log("clean-up")}});var e=Object(a.useState)(d),t=Object(i.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)({viewBox:"0 0 720 720"}),s=Object(i.a)(o,2),u=s[0],f=s[1],p=Object(a.useState)(null),h=Object(i.a)(p,2),E=h[0],j=h[1],N=Object(a.useState)(localStorage.getItem("save")),C=Object(i.a)(N,2),D=C[0],P=C[1],A=function(e){return function(t){var a=n.findIndex(function(e){return e===t}),r=n[a+e];n[a+e]=t,n[a]=r,c(n.slice())}};return r.a.createElement(r.a.Fragment,null,r.a.createElement("header",null,r.a.createElement("h1",null,"Svarog")),r.a.createElement("div",{className:"flex-row"},r.a.createElement(S,{shapes:n,attrs:u,setSelectedShape:j,createRandom:function(){console.log("Create random SVG");var e=function(){for(var e=[],t={attributes:{viewBox:"0 0 720 720"},shapes:e},n=g(6)+3,a=0;a<n;a++)e.push(m({},v(),{id:Date.now()+""+a}));return console.log(n),t}();console.log({cSvg:e}),c(e.shapes),f(e.attributes)}}),r.a.createElement("div",{className:"flex-column flex-grow bordered margined"},r.a.createElement(O,{shapes:n,svgAttrs:u}),r.a.createElement(k,{change:c}),r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){localStorage.setItem("save",JSON.stringify({attributes:u,shapes:n})),P(!0)}},"Save"),r.a.createElement("button",{onClick:function(){var e=JSON.parse(localStorage.getItem("save"));e&&(c(e.shapes),f(e.attributes))},disabled:!D},"Load")))),r.a.createElement("div",{className:"svg-data margined bordered"},r.a.createElement(y,{element:"svg",attrs:u,changed:function(e){f(e)}}),r.a.createElement(x,{addShape:function(e){c([].concat(Object(l.a)(n),[{shape:e,attributes:b[e],id:Date.now()}]))}}),r.a.createElement("div",{className:"shapes-list"},n.map(function(e){return r.a.createElement("div",{key:e.id,className:"flex-row "+(e.id===E?"selected-shape":"")},r.a.createElement("button",{title:"Delete Shape",onClick:function(){c(n.filter(function(t){return t!==e}))}},"x"),r.a.createElement(w,{shape:e,duplicate:function(e){var t=Object.assign({},e);t.id=Date.now();var a=n.findIndex(function(t){return t===e});c([].concat(Object(l.a)(n.slice(0,a+1)),[t],Object(l.a)(n.slice(a+1))))},selected:E===e.id,changed:function(e){n[n.findIndex(function(t){return t===e})]=e,c(n.slice())},shapeUp:A(-1),shapeDown:A(1)}))}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[6,1,2]]]);
//# sourceMappingURL=main.b080e5c7.chunk.js.map